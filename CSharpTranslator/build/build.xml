<project name="antlr3_and_ant" default="antlr_classpath" basedir=".">

    <property name="lib.dir" location="../jar" />

    <!-- Set the classpath-->
    <path id="build.classpath">
        <fileset dir="${lib.dir}">
            <include name="**/*.jar" />
        </fileset>
    </path>



    <!-- Check if ANTLR3 can be found in the classpath -->
<!--    <target name="antlr_classpath" >-->
<!--        <whichresource property="antlr.in.classpath" class="org.antlr.Tool" classpathref="build.classpath" />-->
<!--        <fail message="ANTLR3 not found via CLASSPATH ${java.class.path}">-->
<!--            <condition>-->
<!--                <not>-->
<!--                    <isset property="antlr.in.classpath"/>-->
<!--                </not>-->
<!--            </condition>-->
<!--        </fail>-->
<!--        <echo>ANTLR3 found via CLASSPATH</echo>-->
<!--    </target>-->

    <!-- Antlr3 is called here -->
    <target name="antlr">
        <antlr:ant-antlr3 xmlns:antlr="antlib:org/apache/tools/ant/antlr"
                          verbose="true"
                          outputdirectory="."
                          target="CMinus.g"/>
    </target>

</project>